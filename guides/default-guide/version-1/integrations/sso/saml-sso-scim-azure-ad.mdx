---
title: 'SAML SSO & SCIM: Azure AD'
slug: saml-sso-scim-azure-ad
visibility: PUBLIC
label: 'SAML SSO & SCIM: Azure AD'
---
> ðŸ“˜ Requires Enterprise Plans
> 
> Enabling SAML SSO and SCIM requires the team to be on Enterprise Cloud or Server plans. Please reachout to your account manager (or) [sales@deepsource.io](mailto:sales@deepsource.io) for a demo.

# SAML SSO

## Configuring SAML SSO on Azure AD

For now, an admin (on Azure) needs to create a custom SAML connector for DeepSource Enterprise. The steps for which are as follows:

1. Visit https://portal.azure.com and log in to your Microsoft account.
2. From your home screen, click the hamburger menu in the top left and then **â€œAzure Active Directoryâ€** â†’ **"Enterprise applications"**.
3. Then, click on **"New application"** and then click on **â€œCreate your own applicationâ€**.
4. Fill in the following details and click **â€œCreateâ€**:

![Image](https://files.readme.io/9826987-small-1_1.png,,)[/block]


| Field                                             | Value                                                                       |
| :------------------------------------------------ | :-------------------------------------------------------------------------- |
| What's the name of your app?                      | DeepSource Enterprise Server                                                |
| What are you looking to do with your application? | Integrate any other application you don't find in the gallery (Non-gallery) |

5. From the home screen of this new application, click on **â€œSet up single sign onâ€** and then **â€œSAMLâ€**.
6. Click on **â€œEditâ€** against the **â€œBasic SAML Configurationâ€** heading.
7. Assuming that DeepSource is hosted on `https://deepsource.foobar.com`fill in the following details accordingly leaving the rest of the fields with defaults and click **â€œSaveâ€**:

| Field                                      | Value                                           |
| :----------------------------------------- | :---------------------------------------------- |
| Identifier (Entity ID)                     | `https://deepsource.foobar.com/saml2/metadata/` |
| Reply URL (Assertion Consumer Service URL) | `https://deepsource.foobar.com/saml2/acs/`      |
| Sign on URL                                | `https://deepsource.foobar.com/saml2/acs/`      |
| Logout URL                                 | `https://deepsource.foobar.com/saml2/ls/post/`  |

![Image](https://files.readme.io/b952d98-small-2.png,,)[/block]


8. Click on **â€œEditâ€** against the **â€œAttributes & Claimsâ€** heading.
9. Fill in the following details and click **â€œSaveâ€**:

| Name                             | Source    | Namespace | Source attribute                       |
| :------------------------------- | :-------- | :-------- | :------------------------------------- |
| Unique User Identifier (Name ID) | Attribute |           | user.userprincipalname (from dropdown) |
| email                            | Attribute |           | user.mail (from dropdown)              |
| first_name                       | Attribute |           | user.givenname (from dropdown)         |
| last_name                        | Attribute |           | user.surname (from dropdown)           |

![Image](https://files.readme.io/88a92e7-small-3.png,,)[/block]


10. Click on **â€œEditâ€** against the **â€œSAML Certificatesâ€** heading.
11. Make sure the **"Signing Option"** is set to **"Sign SAML response and assertion"**.

    ![Image](https://files.readme.io/bf0f76d-image.png,,)[/block]
12. Now we need to select which users can access this application for sign-in into DeepSource. You can either choose to disable assignment to grant access to all users in your AD (follow steps in option **i**) or you can selectively grant access to specific users (follow steps in option **ii**).
    1. Navigate to **â€œPropertiesâ€** using the menu on the left. Turn **â€œAssignment Required?â€** to **â€œNoâ€** and click **â€œSaveâ€**.
    2. Navigate to **â€œUsers and Groupsâ€** using the menu on the left then click **â€œAdd user/groupâ€** â†’ **â€œNone Selectedâ€** then select the users from the list on the right and click **â€œSelectâ€** â†’ **â€œAssignâ€**.
13. Navigate to **â€œSingle sign-onâ€** again using the menu on the left and copy the **â€œApp Federation Metadata Urlâ€** under the **â€œSAML Signing Certificateâ€** section. Make sure the URL starts with `https://login.microsoftonline.com/`.
14. At this point, SAML-based Sign-on has been configured successfully. You can also choose to test to verify the connection by clicking the **â€œTestâ€** â†’ **â€œTest sign inâ€** buttons on the **â€œSingle sign-onâ€** page.

> ðŸš§ For Enterprise Cloud users
> 
> - In step 4, name of the app should be changed to `DeepSource Enterprise Cloud`.
> - In step 7, DeepSource's URL should be changed to https://app.deepsource.com.

## Configuring SAML SSO on DeepSource

Refer to:

- [Setup SAML SSO -> Configuration on DeepSource Enterprise Cloud](/docs/integrations-sso#configuration-on-deepsource-enterprise-cloud), or,
- [Setup SAML SSO -> Configuration on DeepSource Enterprise Server](/docs/integrations-sso#configuration-on-deepsource-enterprise-server).

# SCIM Provisioning

## Configuring SCIM on Azure AD

1. To Enable SCIM Provisioning, go to the DeepSource application you created on Azure in the previous section.
2. Navigate to **â€œProvisioningâ€** using the menu on the left and click on **â€œGet startedâ€**.
3. On the next page, you will see a field named **â€œProvisioning Modeâ€**. Choose **â€œAdvancedâ€** from the dropdown and then fill in the following details under the **â€œAdmin Credentialsâ€** section.

| Field        | Value                                                       |
| :----------- | :---------------------------------------------------------- |
| Tenant URL   | `https://deepsource.foobar.com/scim/v2/`                    |
| Secret Token | SCIM Authentication token which you have put in Admin Panel |

![Image](https://files.readme.io/6738285-small-5.png,,)[/block]


1. Click on **â€œTest Connectionâ€** to verify the SCIM connection.
2. Click on **â€Saveâ€** to apply the settings.
3. Finally, navigate back to the **â€œProvisioning**â€ tab and click on **â€œStart provisioningâ€** to enable the sync.

> ðŸš§ For Enterprise Cloud users
> 
> In step 3, the following values should be used instead:
> 
> | Field        | Values                                              |    |
> | :----------- | :-------------------------------------------------- | :- |
> | Tenant URL   | `https://app.deepsource.com/scim/v2/`               |    |
> | Secret Token | SCIM Authentication token generated from DeepSource |    |

## Configuring SCIM on DeepSource

Refer to:

- [Setup SCIM Provisioning -> Configuration on DeepSource Enterprise Cloud](/docs/integrations-sso#configuration-on-deepsource-enterprise-cloud-1), or,
- [Setup SCIM Provisioning -> Configuration on DeepSource Enterprise Server](/docs/integrations-sso#configuration-on-deepsource-enterprise-server-1).

> ðŸŽ‰ You have successfully configured SCIM provisioning for your DeepSource Enterprise via Azure AD.
