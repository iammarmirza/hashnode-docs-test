---
title: 'SAML SSO & SCIM: Azure AD'
slug: saml-sso-scim-azure-ad
visibility: PUBLIC
label: 'SAML SSO & SCIM: Azure AD'
---
> üìò Requires Enterprise Plans
> 
> Enabling SAML SSO and SCIM requires the team to be on Enterprise Cloud or Server plans. Please reachout to your account manager (or) [sales@deepsource.io](mailto:sales@deepsource.io) for a demo.

# SAML SSO

## Configuring SAML SSO on Azure AD

For now, an admin (on Azure) needs to create a custom SAML connector for DeepSource Enterprise. The steps for which are as follows:

1. Visit https://portal.azure.com/ and log in to your Microsoft account.
2. From your home screen, click the hamburger menu in the top left and then **‚ÄúAzure Active Directory‚Äù** ‚Üí **"Enterprise applications"**.
3. Then, click on **"New application"** and then click on **‚ÄúCreate your own application‚Äù**.
4. Fill in the following details and click **‚ÄúCreate‚Äù**:

![](https://files.readme.io/9826987-small-1_1.png)


| Field                                             | Value                                                                       |
| :------------------------------------------------ | :-------------------------------------------------------------------------- |
| What's the name of your app?                      | DeepSource Enterprise Server                                                |
| What are you looking to do with your application? | Integrate any other application you don't find in the gallery (Non-gallery) |

5. From the home screen of this new application, click on **‚ÄúSet up single sign on‚Äù** and then **‚ÄúSAML‚Äù**.
6. Click on **‚ÄúEdit‚Äù** against the **‚ÄúBasic SAML Configuration‚Äù** heading.
7. Assuming that DeepSource is hosted on `https://deepsource.foobar.com`fill in the following details accordingly leaving the rest of the fields with defaults and click **‚ÄúSave‚Äù**:

| Field                                      | Value                                           |
| :----------------------------------------- | :---------------------------------------------- |
| Identifier (Entity ID)                     | `https://deepsource.foobar.com/saml2/metadata/` |
| Reply URL (Assertion Consumer Service URL) | `https://deepsource.foobar.com/saml2/acs/`      |
| Sign on URL                                | `https://deepsource.foobar.com/saml2/acs/`      |
| Logout URL                                 | `https://deepsource.foobar.com/saml2/ls/post/`  |

![](https://files.readme.io/b952d98-small-2.png)


8. Click on **‚ÄúEdit‚Äù** against the **‚ÄúAttributes & Claims‚Äù** heading.
9. Fill in the following details and click **‚ÄúSave‚Äù**:

| Name                             | Source    | Namespace | Source attribute                       |
| :------------------------------- | :-------- | :-------- | :------------------------------------- |
| Unique User Identifier (Name ID) | Attribute | `<default>` | user.userprincipalname (from dropdown) |
| email                            | Attribute | `<default>` | user.mail (from dropdown)              |
| first_name                       | Attribute | `<default>` | user.givenname (from dropdown)         |
| last_name                        | Attribute | `<default>` | user.surname (from dropdown)           |

![](https://files.readme.io/88a92e7-small-3.png)


10. Click on **‚ÄúEdit‚Äù** against the **‚ÄúSAML Certificates‚Äù** heading.
11. Make sure the **"Signing Option"** is set to **"Sign SAML response and assertion"**.
    ![](https://files.readme.io/bf0f76d-image.png)
12. Now we need to select which users can access this application for sign-in into DeepSource. You can either choose to disable assignment to grant access to all users in your AD (follow steps in option **i**) or you can selectively grant access to specific users (follow steps in option **ii**).
    1. Navigate to **‚ÄúProperties‚Äù** using the menu on the left. Turn **‚ÄúAssignment Required?‚Äù** to **‚ÄúNo‚Äù** and click **‚ÄúSave‚Äù**.
    2. Navigate to **‚ÄúUsers and Groups‚Äù** using the menu on the left then click **‚ÄúAdd user/group‚Äù** ‚Üí **‚ÄúNone Selected‚Äù** then select the users from the list on the right and click **‚ÄúSelect‚Äù** ‚Üí **‚ÄúAssign‚Äù**.
13. Navigate to **‚ÄúSingle sign-on‚Äù** again using the menu on the left and copy the **‚ÄúApp Federation Metadata Url‚Äù** under the **‚ÄúSAML Signing Certificate‚Äù** section. Make sure the URL starts with `https://login.microsoftonline.com/`.
14. At this point, SAML-based Sign-on has been configured successfully. You can also choose to test to verify the connection by clicking the **‚ÄúTest‚Äù** ‚Üí **‚ÄúTest sign in‚Äù** buttons on the **‚ÄúSingle sign-on‚Äù** page.

> üöß For Enterprise Cloud users
> 
> - In step 4, name of the app should be changed to `DeepSource Enterprise Cloud`.
> - In step 7, DeepSource's URL should be changed to https://app.deepsource.com.

## Configuring SAML SSO on DeepSource

Refer to:

- [Setup SAML SSO -> Configuration on DeepSource Enterprise Cloud](/docs/integrations-sso#configuration-on-deepsource-enterprise-cloud), or,
- [Setup SAML SSO -> Configuration on DeepSource Enterprise Server](/docs/integrations-sso#configuration-on-deepsource-enterprise-server).

# SCIM Provisioning

## Configuring SCIM on Azure AD

1. To Enable SCIM Provisioning, go to the DeepSource application you created on Azure in the previous section.
2. Navigate to **‚ÄúProvisioning‚Äù** using the menu on the left and click on **‚ÄúGet started‚Äù**.
3. On the next page, you will see a field named **‚ÄúProvisioning Mode‚Äù**. Choose **‚ÄúAdvanced‚Äù** from the dropdown and then fill in the following details under the **‚ÄúAdmin Credentials‚Äù** section.

| Field        | Value                                                       |
| :----------- | :---------------------------------------------------------- |
| Tenant URL   | `https://deepsource.foobar.com/scim/v2/`                    |
| Secret Token | SCIM Authentication token which you have put in Admin Panel |

![](https://files.readme.io/6738285-small-5.png)


1. Click on **‚ÄúTest Connection‚Äù** to verify the SCIM connection.
2. Click on **‚ÄùSave‚Äù** to apply the settings.
3. Finally, navigate back to the **‚ÄúProvisioning**‚Äù tab and click on **‚ÄúStart provisioning‚Äù** to enable the sync.

> üöß For Enterprise Cloud users
> 
> In step 3, the following values should be used instead:
> 
> | Field        | Values                                              |    |
> | :----------- | :-------------------------------------------------- | :- |
> | Tenant URL   | `https://app.deepsource.com/scim/v2/`               |    |
> | Secret Token | SCIM Authentication token generated from DeepSource |    |

## Configuring SCIM on DeepSource

Refer to:

- [Setup SCIM Provisioning -> Configuration on DeepSource Enterprise Cloud](/docs/integrations-sso#configuration-on-deepsource-enterprise-cloud-1), or,
- [Setup SCIM Provisioning -> Configuration on DeepSource Enterprise Server](/docs/integrations-sso#configuration-on-deepsource-enterprise-server-1).

> üéâ You have successfully configured SCIM provisioning for your DeepSource Enterprise via Azure AD.
